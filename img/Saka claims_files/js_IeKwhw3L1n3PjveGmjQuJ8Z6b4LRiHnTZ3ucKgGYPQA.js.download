if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;};
if(typeof Object.assign!=='function'){Object.defineProperty(Object,'assign',{value:function assign(target,varArgs){'use strict';if(target===null||target===undefined){throw new TypeError('Cannot convert undefined or null to object');}
var to=Object(target);for(var index=1;index<arguments.length;index++){var nextSource=arguments[index];if(nextSource!==null&&nextSource!==undefined){for(var nextKey in nextSource){if(Object.prototype.hasOwnProperty.call(nextSource,nextKey)){to[nextKey]=nextSource[nextKey];}}}}
return to;},writable:true,configurable:true});};
!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("underscore",r):(n="undefined"!=typeof globalThis?globalThis:n||self,function(){var t=n._,e=n._=r();e.noConflict=function(){return n._=t,e}}())}(this,(function(){
//     Underscore.js 1.13.3
//     https://underscorejs.org
//     (c) 2009-2022 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
var n="1.13.3",r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},t=Array.prototype,e=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,o=t.push,i=t.slice,a=e.toString,f=e.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,l="undefined"!=typeof DataView,s=Array.isArray,p=Object.keys,v=Object.create,h=c&&ArrayBuffer.isView,y=isNaN,d=isFinite,g=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],m=Math.pow(2,53)-1;function j(n,r){return r=null==r?n.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),u=0;u<t;u++)e[u]=arguments[u+r];switch(r){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var o=Array(r+1);for(u=0;u<r;u++)o[u]=arguments[u];return o[r]=e,n.apply(this,o)}}function _(n){var r=typeof n;return"function"===r||"object"===r&&!!n}function w(n){return void 0===n}function A(n){return!0===n||!1===n||"[object Boolean]"===a.call(n)}function x(n){var r="[object "+n+"]";return function(n){return a.call(n)===r}}var S=x("String"),O=x("Number"),M=x("Date"),E=x("RegExp"),B=x("Error"),N=x("Symbol"),I=x("ArrayBuffer"),T=x("Function"),k=r.document&&r.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof k&&(T=function(n){return"function"==typeof n||!1});var D=T,R=x("Object"),F=l&&R(new DataView(new ArrayBuffer(8))),V="undefined"!=typeof Map&&R(new Map),P=x("DataView");var q=F?function(n){return null!=n&&D(n.getInt8)&&I(n.buffer)}:P,U=s||x("Array");function W(n,r){return null!=n&&f.call(n,r)}var z=x("Arguments");!function(){z(arguments)||(z=function(n){return W(n,"callee")})}();var L=z;function $(n){return O(n)&&y(n)}function C(n){return function(){return n}}function K(n){return function(r){var t=n(r);return"number"==typeof t&&t>=0&&t<=m}}function J(n){return function(r){return null==r?void 0:r[n]}}var G=J("byteLength"),H=K(G),Q=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var X=c?function(n){return h?h(n)&&!q(n):H(n)&&Q.test(a.call(n))}:C(!1),Y=J("length");function Z(n,r){r=function(n){for(var r={},t=n.length,e=0;e<t;++e)r[n[e]]=!0;return{contains:function(n){return!0===r[n]},push:function(t){return r[t]=!0,n.push(t)}}}(r);var t=b.length,u=n.constructor,o=D(u)&&u.prototype||e,i="constructor";for(W(n,i)&&!r.contains(i)&&r.push(i);t--;)(i=b[t])in n&&n[i]!==o[i]&&!r.contains(i)&&r.push(i)}function nn(n){if(!_(n))return[];if(p)return p(n);var r=[];for(var t in n)W(n,t)&&r.push(t);return g&&Z(n,r),r}function rn(n,r){var t=nn(r),e=t.length;if(null==n)return!e;for(var u=Object(n),o=0;o<e;o++){var i=t[o];if(r[i]!==u[i]||!(i in u))return!1}return!0}function tn(n){return n instanceof tn?n:this instanceof tn?void(this._wrapped=n):new tn(n)}function en(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,G(n))}tn.VERSION=n,tn.prototype.value=function(){return this._wrapped},tn.prototype.valueOf=tn.prototype.toJSON=tn.prototype.value,tn.prototype.toString=function(){return String(this._wrapped)};var un="[object DataView]";function on(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var o=typeof n;return("function"===o||"object"===o||"object"==typeof r)&&function n(r,t,e,o){r instanceof tn&&(r=r._wrapped);t instanceof tn&&(t=t._wrapped);var i=a.call(r);if(i!==a.call(t))return!1;if(F&&"[object Object]"==i&&q(r)){if(!q(t))return!1;i=un}switch(i){case"[object RegExp]":case"[object String]":return""+r==""+t;case"[object Number]":return+r!=+r?+t!=+t:0==+r?1/+r==1/t:+r==+t;case"[object Date]":case"[object Boolean]":return+r==+t;case"[object Symbol]":return u.valueOf.call(r)===u.valueOf.call(t);case"[object ArrayBuffer]":case un:return n(en(r),en(t),e,o)}var f="[object Array]"===i;if(!f&&X(r)){if(G(r)!==G(t))return!1;if(r.buffer===t.buffer&&r.byteOffset===t.byteOffset)return!0;f=!0}if(!f){if("object"!=typeof r||"object"!=typeof t)return!1;var c=r.constructor,l=t.constructor;if(c!==l&&!(D(c)&&c instanceof c&&D(l)&&l instanceof l)&&"constructor"in r&&"constructor"in t)return!1}o=o||[];var s=(e=e||[]).length;for(;s--;)if(e[s]===r)return o[s]===t;if(e.push(r),o.push(t),f){if((s=r.length)!==t.length)return!1;for(;s--;)if(!on(r[s],t[s],e,o))return!1}else{var p,v=nn(r);if(s=v.length,nn(t).length!==s)return!1;for(;s--;)if(p=v[s],!W(t,p)||!on(r[p],t[p],e,o))return!1}return e.pop(),o.pop(),!0}(n,r,t,e)}function an(n){if(!_(n))return[];var r=[];for(var t in n)r.push(t);return g&&Z(n,r),r}function fn(n){var r=Y(n);return function(t){if(null==t)return!1;var e=an(t);if(Y(e))return!1;for(var u=0;u<r;u++)if(!D(t[n[u]]))return!1;return n!==hn||!D(t[cn])}}var cn="forEach",ln="has",sn=["clear","delete"],pn=["get",ln,"set"],vn=sn.concat(cn,pn),hn=sn.concat(pn),yn=["add"].concat(sn,cn,ln),dn=V?fn(vn):x("Map"),gn=V?fn(hn):x("WeakMap"),bn=V?fn(yn):x("Set"),mn=x("WeakSet");function jn(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e}function _n(n){for(var r={},t=nn(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r}function wn(n){var r=[];for(var t in n)D(n[t])&&r.push(t);return r.sort()}function An(n,r){return function(t){var e=arguments.length;if(r&&(t=Object(t)),e<2||null==t)return t;for(var u=1;u<e;u++)for(var o=arguments[u],i=n(o),a=i.length,f=0;f<a;f++){var c=i[f];r&&void 0!==t[c]||(t[c]=o[c])}return t}}var xn=An(an),Sn=An(nn),On=An(an,!0);function Mn(n){if(!_(n))return{};if(v)return v(n);var r=function(){};r.prototype=n;var t=new r;return r.prototype=null,t}function En(n){return U(n)?n:[n]}function Bn(n){return tn.toPath(n)}function Nn(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0}function In(n,r,t){var e=Nn(n,Bn(r));return w(e)?t:e}function Tn(n){return n}function kn(n){return n=Sn({},n),function(r){return rn(r,n)}}function Dn(n){return n=Bn(n),function(r){return Nn(r,n)}}function Rn(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)}}return function(){return n.apply(r,arguments)}}function Fn(n,r,t){return null==n?Tn:D(n)?Rn(n,r,t):_(n)&&!U(n)?kn(n):Dn(n)}function Vn(n,r){return Fn(n,r,1/0)}function Pn(n,r,t){return tn.iteratee!==Vn?tn.iteratee(n,r):Fn(n,r,t)}function qn(){}function Un(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))}tn.toPath=En,tn.iteratee=Vn;var Wn=Date.now||function(){return(new Date).getTime()};function zn(n){var r=function(r){return n[r]},t="(?:"+nn(n).join("|")+")",e=RegExp(t),u=RegExp(t,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,r):n}}var Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$n=zn(Ln),Cn=zn(_n(Ln)),Kn=tn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Jn=/(.)^/,Gn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Hn=/\\|'|\r|\n|\u2028|\u2029/g;function Qn(n){return"\\"+Gn[n]}var Xn=/^\s*(\w|\$)+\s*$/;var Yn=0;function Zn(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var o=Mn(n.prototype),i=n.apply(o,u);return _(i)?i:o}var nr=j((function(n,r){var t=nr.placeholder,e=function(){for(var u=0,o=r.length,i=Array(o),a=0;a<o;a++)i[a]=r[a]===t?arguments[u++]:r[a];for(;u<arguments.length;)i.push(arguments[u++]);return Zn(n,e,this,this,i)};return e}));nr.placeholder=tn;var rr=j((function(n,r,t){if(!D(n))throw new TypeError("Bind must be called on a function");var e=j((function(u){return Zn(n,e,r,this,t.concat(u))}));return e})),tr=K(Y);function er(n,r,t,e){if(e=e||[],r||0===r){if(r<=0)return e.concat(n)}else r=1/0;for(var u=e.length,o=0,i=Y(n);o<i;o++){var a=n[o];if(tr(a)&&(U(a)||L(a)))if(r>1)er(a,r-1,t,e),u=e.length;else for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else t||(e[u++]=a)}return e}var ur=j((function(n,r){var t=(r=er(r,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var e=r[t];n[e]=rr(n[e],n)}return n}));var or=j((function(n,r,t){return setTimeout((function(){return n.apply(null,t)}),r)})),ir=nr(or,tn,1);function ar(n){return function(){return!n.apply(this,arguments)}}function fr(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}}var cr=nr(fr,2);function lr(n,r,t){r=Pn(r,t);for(var e,u=nn(n),o=0,i=u.length;o<i;o++)if(r(n[e=u[o]],e,n))return e}function sr(n){return function(r,t,e){t=Pn(t,e);for(var u=Y(r),o=n>0?0:u-1;o>=0&&o<u;o+=n)if(t(r[o],o,r))return o;return-1}}var pr=sr(1),vr=sr(-1);function hr(n,r,t,e){for(var u=(t=Pn(t,e,1))(r),o=0,i=Y(n);o<i;){var a=Math.floor((o+i)/2);t(n[a])<u?o=a+1:i=a}return o}function yr(n,r,t){return function(e,u,o){var a=0,f=Y(e);if("number"==typeof o)n>0?a=o>=0?o:Math.max(o+f,a):f=o>=0?Math.min(o+1,f):o+f+1;else if(t&&o&&f)return e[o=t(e,u)]===u?o:-1;if(u!=u)return(o=r(i.call(e,a,f),$))>=0?o+a:-1;for(o=n>0?a:f-1;o>=0&&o<f;o+=n)if(e[o]===u)return o;return-1}}var dr=yr(1,pr,hr),gr=yr(-1,vr);function br(n,r,t){var e=(tr(n)?pr:lr)(n,r,t);if(void 0!==e&&-1!==e)return n[e]}function mr(n,r,t){var e,u;if(r=Rn(r,t),tr(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var o=nn(n);for(e=0,u=o.length;e<u;e++)r(n[o[e]],o[e],n)}return n}function jr(n,r,t){r=Pn(r,t);for(var e=!tr(n)&&nn(n),u=(e||n).length,o=Array(u),i=0;i<u;i++){var a=e?e[i]:i;o[i]=r(n[a],a,n)}return o}function _r(n){var r=function(r,t,e,u){var o=!tr(r)&&nn(r),i=(o||r).length,a=n>0?0:i-1;for(u||(e=r[o?o[a]:a],a+=n);a>=0&&a<i;a+=n){var f=o?o[a]:a;e=t(e,r[f],f,r)}return e};return function(n,t,e,u){var o=arguments.length>=3;return r(n,Rn(t,u,4),e,o)}}var wr=_r(1),Ar=_r(-1);function xr(n,r,t){var e=[];return r=Pn(r,t),mr(n,(function(n,t,u){r(n,t,u)&&e.push(n)})),e}function Sr(n,r,t){r=Pn(r,t);for(var e=!tr(n)&&nn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(!r(n[i],i,n))return!1}return!0}function Or(n,r,t){r=Pn(r,t);for(var e=!tr(n)&&nn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(r(n[i],i,n))return!0}return!1}function Mr(n,r,t,e){return tr(n)||(n=jn(n)),("number"!=typeof t||e)&&(t=0),dr(n,r,t)>=0}var Er=j((function(n,r,t){var e,u;return D(r)?u=r:(r=Bn(r),e=r.slice(0,-1),r=r[r.length-1]),jr(n,(function(n){var o=u;if(!o){if(e&&e.length&&(n=Nn(n,e)),null==n)return;o=n[r]}return null==o?o:o.apply(n,t)}))}));function Br(n,r){return jr(n,Dn(r))}function Nr(n,r,t){var e,u,o=-1/0,i=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=tr(n)?n:jn(n)).length;a<f;a++)null!=(e=n[a])&&e>o&&(o=e);else r=Pn(r,t),mr(n,(function(n,t,e){((u=r(n,t,e))>i||u===-1/0&&o===-1/0)&&(o=n,i=u)}));return o}var Ir=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Tr(n){return n?U(n)?i.call(n):S(n)?n.match(Ir):tr(n)?jr(n,Tn):jn(n):[]}function kr(n,r,t){if(null==r||t)return tr(n)||(n=jn(n)),n[Un(n.length-1)];var e=Tr(n),u=Y(e);r=Math.max(Math.min(r,u),0);for(var o=u-1,i=0;i<r;i++){var a=Un(i,o),f=e[i];e[i]=e[a],e[a]=f}return e.slice(0,r)}function Dr(n,r){return function(t,e,u){var o=r?[[],[]]:{};return e=Pn(e,u),mr(t,(function(r,u){var i=e(r,u,t);n(o,r,i)})),o}}var Rr=Dr((function(n,r,t){W(n,t)?n[t].push(r):n[t]=[r]})),Fr=Dr((function(n,r,t){n[t]=r})),Vr=Dr((function(n,r,t){W(n,t)?n[t]++:n[t]=1})),Pr=Dr((function(n,r,t){n[t?0:1].push(r)}),!0);function qr(n,r,t){return r in t}var Ur=j((function(n,r){var t={},e=r[0];if(null==n)return t;D(e)?(r.length>1&&(e=Rn(e,r[1])),r=an(n)):(e=qr,r=er(r,!1,!1),n=Object(n));for(var u=0,o=r.length;u<o;u++){var i=r[u],a=n[i];e(a,i,n)&&(t[i]=a)}return t})),Wr=j((function(n,r){var t,e=r[0];return D(e)?(e=ar(e),r.length>1&&(t=r[1])):(r=jr(er(r,!1,!1),String),e=function(n,t){return!Mr(r,t)}),Ur(n,e,t)}));function zr(n,r,t){return i.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))}function Lr(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[0]:zr(n,n.length-r)}function $r(n,r,t){return i.call(n,null==r||t?1:r)}var Cr=j((function(n,r){return r=er(r,!0,!0),xr(n,(function(n){return!Mr(r,n)}))})),Kr=j((function(n,r){return Cr(n,r)}));function Jr(n,r,t,e){A(r)||(e=t,t=r,r=!1),null!=t&&(t=Pn(t,e));for(var u=[],o=[],i=0,a=Y(n);i<a;i++){var f=n[i],c=t?t(f,i,n):f;r&&!t?(i&&o===c||u.push(f),o=c):t?Mr(o,c)||(o.push(c),u.push(f)):Mr(u,f)||u.push(f)}return u}var Gr=j((function(n){return Jr(er(n,!0,!0))}));function Hr(n){for(var r=n&&Nr(n,Y).length||0,t=Array(r),e=0;e<r;e++)t[e]=Br(n,e);return t}var Qr=j(Hr);function Xr(n,r){return n._chain?tn(r).chain():r}function Yr(n){return mr(wn(n),(function(r){var t=tn[r]=n[r];tn.prototype[r]=function(){var n=[this._wrapped];return o.apply(n,arguments),Xr(this,t.apply(tn,n))}})),tn}mr(["pop","push","reverse","shift","sort","splice","unshift"],(function(n){var r=t[n];tn.prototype[n]=function(){var t=this._wrapped;return null!=t&&(r.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0]),Xr(this,t)}})),mr(["concat","join","slice"],(function(n){var r=t[n];tn.prototype[n]=function(){var n=this._wrapped;return null!=n&&(n=r.apply(n,arguments)),Xr(this,n)}}));var Zr=Yr({__proto__:null,VERSION:n,restArguments:j,isObject:_,isNull:function(n){return null===n},isUndefined:w,isBoolean:A,isElement:function(n){return!(!n||1!==n.nodeType)},isString:S,isNumber:O,isDate:M,isRegExp:E,isError:B,isSymbol:N,isArrayBuffer:I,isDataView:q,isArray:U,isFunction:D,isArguments:L,isFinite:function(n){return!N(n)&&d(n)&&!isNaN(parseFloat(n))},isNaN:$,isTypedArray:X,isEmpty:function(n){if(null==n)return!0;var r=Y(n);return"number"==typeof r&&(U(n)||S(n)||L(n))?0===r:0===Y(nn(n))},isMatch:rn,isEqual:function(n,r){return on(n,r)},isMap:dn,isWeakMap:gn,isSet:bn,isWeakSet:mn,keys:nn,allKeys:an,values:jn,pairs:function(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},invert:_n,functions:wn,methods:wn,extend:xn,extendOwn:Sn,assign:Sn,defaults:On,create:function(n,r){var t=Mn(n);return r&&Sn(t,r),t},clone:function(n){return _(n)?U(n)?n.slice():xn({},n):n},tap:function(n,r){return r(n),n},get:In,has:function(n,r){for(var t=(r=Bn(r)).length,e=0;e<t;e++){var u=r[e];if(!W(n,u))return!1;n=n[u]}return!!t},mapObject:function(n,r,t){r=Pn(r,t);for(var e=nn(n),u=e.length,o={},i=0;i<u;i++){var a=e[i];o[a]=r(n[a],a,n)}return o},identity:Tn,constant:C,noop:qn,toPath:En,property:Dn,propertyOf:function(n){return null==n?qn:function(r){return In(n,r)}},matcher:kn,matches:kn,times:function(n,r,t){var e=Array(Math.max(0,n));r=Rn(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},random:Un,now:Wn,escape:$n,unescape:Cn,templateSettings:Kn,template:function(n,r,t){!r&&t&&(r=t),r=On({},r,tn.templateSettings);var e=RegExp([(r.escape||Jn).source,(r.interpolate||Jn).source,(r.evaluate||Jn).source].join("|")+"|$","g"),u=0,o="__p+='";n.replace(e,(function(r,t,e,i,a){return o+=n.slice(u,a).replace(Hn,Qn),u=a+r.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":e?o+="'+\n((__t=("+e+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),r})),o+="';\n";var i,a=r.variable;if(a){if(!Xn.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(a,"_",o)}catch(n){throw n.source=o,n}var f=function(n){return i.call(this,n,tn)};return f.source="function("+a+"){\n"+o+"}",f},result:function(n,r,t){var e=(r=Bn(r)).length;if(!e)return D(t)?t.call(n):t;for(var u=0;u<e;u++){var o=null==n?void 0:n[r[u]];void 0===o&&(o=t,u=e),n=D(o)?o.call(n):o}return n},uniqueId:function(n){var r=++Yn+"";return n?n+r:r},chain:function(n){var r=tn(n);return r._chain=!0,r},iteratee:Vn,partial:nr,bind:rr,bindAll:ur,memoize:function(n,r){var t=function(e){var u=t.cache,o=""+(r?r.apply(this,arguments):e);return W(u,o)||(u[o]=n.apply(this,arguments)),u[o]};return t.cache={},t},delay:or,defer:ir,throttle:function(n,r,t){var e,u,o,i,a=0;t||(t={});var f=function(){a=!1===t.leading?0:Wn(),e=null,i=n.apply(u,o),e||(u=o=null)},c=function(){var c=Wn();a||!1!==t.leading||(a=c);var l=r-(c-a);return u=this,o=arguments,l<=0||l>r?(e&&(clearTimeout(e),e=null),a=c,i=n.apply(u,o),e||(u=o=null)):e||!1===t.trailing||(e=setTimeout(f,l)),i};return c.cancel=function(){clearTimeout(e),a=0,e=u=o=null},c},debounce:function(n,r,t){var e,u,o,i,a,f=function(){var c=Wn()-u;r>c?e=setTimeout(f,r-c):(e=null,t||(i=n.apply(a,o)),e||(o=a=null))},c=j((function(c){return a=this,o=c,u=Wn(),e||(e=setTimeout(f,r),t&&(i=n.apply(a,o))),i}));return c.cancel=function(){clearTimeout(e),e=o=a=null},c},wrap:function(n,r){return nr(r,n)},negate:ar,compose:function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},after:function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},before:fr,once:cr,findKey:lr,findIndex:pr,findLastIndex:vr,sortedIndex:hr,indexOf:dr,lastIndexOf:gr,find:br,detect:br,findWhere:function(n,r){return br(n,kn(r))},each:mr,forEach:mr,map:jr,collect:jr,reduce:wr,foldl:wr,inject:wr,reduceRight:Ar,foldr:Ar,filter:xr,select:xr,reject:function(n,r,t){return xr(n,ar(Pn(r)),t)},every:Sr,all:Sr,some:Or,any:Or,contains:Mr,includes:Mr,include:Mr,invoke:Er,pluck:Br,where:function(n,r){return xr(n,kn(r))},max:Nr,min:function(n,r,t){var e,u,o=1/0,i=1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=tr(n)?n:jn(n)).length;a<f;a++)null!=(e=n[a])&&e<o&&(o=e);else r=Pn(r,t),mr(n,(function(n,t,e){((u=r(n,t,e))<i||u===1/0&&o===1/0)&&(o=n,i=u)}));return o},shuffle:function(n){return kr(n,1/0)},sample:kr,sortBy:function(n,r,t){var e=0;return r=Pn(r,t),Br(jr(n,(function(n,t,u){return{value:n,index:e++,criteria:r(n,t,u)}})).sort((function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index})),"value")},groupBy:Rr,indexBy:Fr,countBy:Vr,partition:Pr,toArray:Tr,size:function(n){return null==n?0:tr(n)?n.length:nn(n).length},pick:Ur,omit:Wr,first:Lr,head:Lr,take:Lr,initial:zr,last:function(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[n.length-1]:$r(n,Math.max(0,n.length-r))},rest:$r,tail:$r,drop:$r,compact:function(n){return xr(n,Boolean)},flatten:function(n,r){return er(n,r,!1)},without:Kr,uniq:Jr,unique:Jr,union:Gr,intersection:function(n){for(var r=[],t=arguments.length,e=0,u=Y(n);e<u;e++){var o=n[e];if(!Mr(r,o)){var i;for(i=1;i<t&&Mr(arguments[i],o);i++);i===t&&r.push(o)}}return r},difference:Cr,unzip:Hr,transpose:Hr,zip:Qr,object:function(n,r){for(var t={},e=0,u=Y(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},range:function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),o=0;o<e;o++,n+=t)u[o]=n;return u},chunk:function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(i.call(n,e,e+=r));return t},mixin:Yr,default:tn});return Zr._=Zr,Zr}));;
if(window.NodeList&&!NodeList.prototype.forEach){NodeList.prototype.forEach=Array.prototype.forEach;};
;(function(root,factory){if(typeof exports=='object'){module.exports=factory(root);}else if(typeof define=='function'&&define.amd){define([],factory.bind(root,root));}else{factory(root);}}(typeof global!='undefined'?global:this,function(root){if(root.CSS&&root.CSS.escape){return root.CSS.escape;}
var cssEscape=function(value){if(arguments.length==0){throw new TypeError('`CSS.escape` requires an argument.');}
var string=String(value);var length=string.length;var index=-1;var codeUnit;var result='';var firstCodeUnit=string.charCodeAt(0);while(++index<length){codeUnit=string.charCodeAt(index);if(codeUnit==0x0000){result+='\uFFFD';continue;}
if((codeUnit>=0x0001&&codeUnit<=0x001F)||codeUnit==0x007F||(index==0&&codeUnit>=0x0030&&codeUnit<=0x0039)||(index==1&&codeUnit>=0x0030&&codeUnit<=0x0039&&firstCodeUnit==0x002D)){result+='\\'+codeUnit.toString(16)+' ';continue;}
if(index==0&&length==1&&codeUnit==0x002D){result+='\\'+string.charAt(index);continue;}
if(codeUnit>=0x0080||codeUnit==0x002D||codeUnit==0x005F||codeUnit>=0x0030&&codeUnit<=0x0039||codeUnit>=0x0041&&codeUnit<=0x005A||codeUnit>=0x0061&&codeUnit<=0x007A){result+=string.charAt(index);continue;}
result+='\\'+string.charAt(index);}
return result;};if(!root.CSS){root.CSS={};}
root.CSS.escape=cssEscape;return cssEscape;}));;
/*! @drupal/once - v1.0.1 - 2021-06-12 */
var once=function(){"use strict";var n=/[\11\12\14\15\40]+/,e="data-once",t=document;function r(n,t,r){return n[t+"Attribute"](e,r)}function o(e){if("string"!=typeof e)throw new TypeError("once ID must be a string");if(""===e||n.test(e))throw new RangeError("once ID must not be empty or contain spaces");return'[data-once~="'+e+'"]'}function u(n){if(!(n instanceof Element))throw new TypeError("The element must be an instance of Element");return!0}function i(n,e){void 0===e&&(e=t);var r=n;if(null===n)r=[];else{if(!n)throw new TypeError("Selector must not be empty");"string"!=typeof n||e!==t&&!u(e)?n instanceof Element&&(r=[n]):r=e.querySelectorAll(n)}return Array.prototype.slice.call(r)}function c(n,e,t){return e.filter((function(e){var r=u(e)&&e.matches(n);return r&&t&&t(e),r}))}function f(e,t){var o=t.add,u=t.remove,i=[];r(e,"has")&&r(e,"get").trim().split(n).forEach((function(n){i.indexOf(n)<0&&n!==u&&i.push(n)})),o&&i.push(o);var c=i.join(" ");r(e,""===c?"remove":"set",c)}function a(n,e,t){return c(":not("+o(n)+")",i(e,t),(function(e){return f(e,{add:n})}))}return a.remove=function(n,e,t){return c(o(n),i(e,t),(function(e){return f(e,{remove:n})}))},a.filter=function(n,e,t){return c(o(n),i(e,t))},a.find=function(n,e){return i(n?o(n):"[data-once]",e)},a}();

;
(function(e){"use strict";if(typeof exports==="object"&&typeof exports.nodeName!=="string"){e(require("jquery"))}else if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(t){"use strict";var r=function(e){e=e||"once";if(typeof e!=="string"){throw new TypeError("The jQuery Once id parameter must be a string")}return e};t.fn.once=function(e){var n="jquery-once-"+r(e);return this.filter(function(){return t(this).data(n)!==true}).data(n,true)};t.fn.removeOnce=function(e){return this.findOnce(e).removeData("jquery-once-"+r(e))};t.fn.findOnce=function(e){var n="jquery-once-"+r(e);return this.filter(function(){return t(this).data(n)===true})}});;
/*!
  hey, [be]Lazy.js - v1.8.2 - 2016.10.25
  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
  (function(q,m){"function"===typeof define&&define.amd?define(m):"object"===typeof exports?module.exports=m():q.Blazy=m()})(this,function(){function q(b){var c=b._util;c.elements=E(b.options);c.count=c.elements.length;c.destroyed&&(c.destroyed=!1,b.options.container&&l(b.options.container,function(a){n(a,"scroll",c.validateT)}),n(window,"resize",c.saveViewportOffsetT),n(window,"resize",c.validateT),n(window,"scroll",c.validateT));m(b)}function m(b){for(var c=b._util,a=0;a<c.count;a++){var d=c.elements[a],e;a:{var g=d;e=b.options;var p=g.getBoundingClientRect();if(e.container&&y&&(g=g.closest(e.containerClass))){g=g.getBoundingClientRect();e=r(g,f)?r(p,{top:g.top-e.offset,right:g.right+e.offset,bottom:g.bottom+e.offset,left:g.left-e.offset}):!1;break a}e=r(p,f)}if(e||t(d,b.options.successClass))b.load(d),c.elements.splice(a,1),c.count--,a--}0===c.count&&b.destroy()}function r(b,c){return b.right>=c.left&&b.bottom>=c.top&&b.left<=c.right&&b.top<=c.bottom}function z(b,c,a){if(!t(b,a.successClass)&&(c||a.loadInvisible||0<b.offsetWidth&&0<b.offsetHeight))if(c=b.getAttribute(u)||b.getAttribute(a.src)){c=c.split(a.separator);var d=c[A&&1<c.length?1:0],e=b.getAttribute(a.srcset),g="img"===b.nodeName.toLowerCase(),p=(c=b.parentNode)&&"picture"===c.nodeName.toLowerCase();if(g||void 0===b.src){var h=new Image,w=function(){a.error&&a.error(b,"invalid");v(b,a.errorClass);k(h,"error",w);k(h,"load",f)},f=function(){g?p||B(b,d,e):b.style.backgroundImage='url("'+d+'")';x(b,a);k(h,"load",f);k(h,"error",w)};p&&(h=b,l(c.getElementsByTagName("source"),function(b){var c=a.srcset,e=b.getAttribute(c);e&&(b.setAttribute("srcset",e),b.removeAttribute(c))}));n(h,"error",w);n(h,"load",f);B(h,d,e)}else b.src=d,x(b,a)}else"video"===b.nodeName.toLowerCase()?(l(b.getElementsByTagName("source"),function(b){var c=a.src,e=b.getAttribute(c);e&&(b.setAttribute("src",e),b.removeAttribute(c))}),b.load(),x(b,a)):(a.error&&a.error(b,"missing"),v(b,a.errorClass))}function x(b,c){v(b,c.successClass);c.success&&c.success(b);b.removeAttribute(c.src);b.removeAttribute(c.srcset);l(c.breakpoints,function(a){b.removeAttribute(a.src)})}function B(b,c,a){a&&b.setAttribute("srcset",a);b.src=c}function t(b,c){return-1!==(" "+b.className+" ").indexOf(" "+c+" ")}function v(b,c){t(b,c)||(b.className+=" "+c)}function E(b){var c=[];b=b.root.querySelectorAll(b.selector);for(var a=b.length;a--;c.unshift(b[a]));return c}function C(b){f.bottom=(window.innerHeight||document.documentElement.clientHeight)+b;f.right=(window.innerWidth||document.documentElement.clientWidth)+b}function n(b,c,a){b.attachEvent?b.attachEvent&&b.attachEvent("on"+c,a):b.addEventListener(c,a,{capture:!1,passive:!0})}function k(b,c,a){b.detachEvent?b.detachEvent&&b.detachEvent("on"+c,a):b.removeEventListener(c,a,{capture:!1,passive:!0})}function l(b,c){if(b&&c)for(var a=b.length,d=0;d<a&&!1!==c(b[d],d);d++);}function D(b,c,a){var d=0;return function(){var e=+new Date;e-d<c||(d=e,b.apply(a,arguments))}}var u,f,A,y;return function(b){if(!document.querySelectorAll){var c=document.createStyleSheet();document.querySelectorAll=function(a,b,d,h,f){f=document.all;b=[];a=a.replace(/\[for\b/gi,"[htmlFor").split(",");for(d=a.length;d--;){c.addRule(a[d],"k:v");for(h=f.length;h--;)f[h].currentStyle.k&&b.push(f[h]);c.removeRule(0)}return b}}var a=this,d=a._util={};d.elements=[];d.destroyed=!0;a.options=b||{};a.options.error=a.options.error||!1;a.options.offset=a.options.offset||100;a.options.root=a.options.root||document;a.options.success=a.options.success||!1;a.options.selector=a.options.selector||".b-lazy";a.options.separator=a.options.separator||"|";a.options.containerClass=a.options.container;a.options.container=a.options.containerClass?document.querySelectorAll(a.options.containerClass):!1;a.options.errorClass=a.options.errorClass||"b-error";a.options.breakpoints=a.options.breakpoints||!1;a.options.loadInvisible=a.options.loadInvisible||!1;a.options.successClass=a.options.successClass||"b-loaded";a.options.validateDelay=a.options.validateDelay||25;a.options.saveViewportOffsetDelay=a.options.saveViewportOffsetDelay||50;a.options.srcset=a.options.srcset||"data-srcset";a.options.src=u=a.options.src||"data-src";y=Element.prototype.closest;A=1<window.devicePixelRatio;f={};f.top=0-a.options.offset;f.left=0-a.options.offset;a.revalidate=function(){q(a)};a.load=function(a,b){var c=this.options;void 0===a.length?z(a,b,c):l(a,function(a){z(a,b,c)})};a.destroy=function(){var a=this._util;this.options.container&&l(this.options.container,function(b){k(b,"scroll",a.validateT)});k(window,"scroll",a.validateT);k(window,"resize",a.validateT);k(window,"resize",a.saveViewportOffsetT);a.count=0;a.elements.length=0;a.destroyed=!0};d.validateT=D(function(){m(a)},a.options.validateDelay,a);d.saveViewportOffsetT=D(function(){C(a.options.offset)},a.options.saveViewportOffsetDelay,a);C(a.options.offset);l(a.options.breakpoints,function(a){if(a.width>=window.screen.width)return u=a.src,!1});setTimeout(function(){q(a)})}});;
"use strict";var bLazy=new Blazy({offset:100,breakpoints:[{width:440,src:"data-src-mobile"},{width:800,src:"data-src-tablet"},{width:1300,src:"data-src-laptop"},{width:1600,src:"data-src-desktop"}]});!function(e,t){t.behaviors.generic={attach:function(t){e("html",t).addClass("js").removeClass("no-js"),e('a[href^="http"]').not('a[href*="www.arsenal.com"],a[href*="player.arsenal.com"],a[href*="arsenalpayments.streamamg.com"],a[href*="www.eticketing.co.uk"]').attr("target","_blank"),e('a[href*="arsenalpayments.streamamg.com"]').addClass("js-gigya-login").data("data-js-gigya-login","true"),e(".js-unhide-on-load").removeClass("u-hide"),e(".messages .backtrace").wrap("<details>"),e(".js-move-above-page",t).insertBefore(".site__page").removeClass("js-move-above-page").attr("data-dev-note","moved via .js-move-above-page"),e("ul.menu--main").one("mouseenter",(function(){bLazy.load(e(".menu__item .b-lazy"))})),t.querySelectorAll(".views-infinite-scroll-content-wrapper")&&bLazy.revalidate(),window.reloadCss=function(){e('link[href^="/themes/custom/arsenal_main/dest/arsenal-main.css"]').attr("href","/themes/custom/arsenal_main/dest/arsenal-main.css?cachebust=".concat(Date.now()))};var a=e(".view-video-list");if(a.find(".js-pager__items").length&&t===document){var r=a.find(".views-infinite-scroll-content-wrapper"),n=new MutationObserver((function(t){t.forEach((function(t){var a=t.addedNodes;e(a[0]).find("a").focus()}))})),i={attributes:!1,childList:!0,characterData:!1};r.each((function(e,t){n.observe(t,i)}))}}}}(jQuery,Drupal);var debounce=function(e,t,a){var r;return function(){var n=this,i=arguments,o=function(){r=null,a||e.apply(n,i)},s=a&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(n,i)}},searchElementLabel=function(e){var t=e.closest(".search-results-wrapper").find("h2");return t?t.text().split("(")[0]:""},searchEventType=function(e){return e.closest(".modal--search").length>0?EVENTS.GlobalSearch:EVENTS.SearchPage},searchItemTitle=function(e){var t=e.attr("title");if(t)return t.trim();var a=e.closest(".search-results__item").find("h3");return a?a.text():""},globalSearchInput="",EVENTS={GlobalSearch:"searchGlobal",SearchPage:"searchPage"},analyticEvents=[{target:".sitewide-search",eventListener:function(e){return{action:"Toggle sitewide search",event:EVENTS.GlobalSearch,label:e.hasClass("active")?"Close":"Open"}}},{target:"main .search-results__item a, .modal--search .search-results__item a",eventListener:function(e){return{action:"View search result item",category:searchElementLabel(e),event:searchEventType(e),label:searchItemTitle(e)}}},{target:".search-results-wrapper__footer .button, .modal--search .search-results-inner .collection-button, .modal--search .search-results-inner .search-results-counter",eventListener:function(e){return{action:"View all search results",category:searchElementLabel(e),event:searchEventType(e),label:e.hasClass("collection-button")||e.hasClass("button")?"Show All":"Counter"}}},{target:".search-header .section-tab__tabs .menu__link, .modal--search .search-tabs__tab",eventListener:function(e){return{action:"Change search collection tab",category:e.text().trim(),event:searchEventType(e)}}},{target:".search-header .ais-SearchBox-reset, .modal--search .ais-SearchBox-reset",eventListener:function(e){var t=searchEventType(e);return{action:"Keyword search",label:"reset",category:e.val().trim(),event:t}}},{target:".ais-Pagination-link",eventListener:function(e){var t=searchElementLabel(e),a=EVENTS.SearchPage;return{action:"Toggle search pagination",label:e.attr("aria-label"),category:t,event:a}}},{target:".search-header .ais-SearchBox-submit, .modal--search .ais-SearchBox-submit",eventListener:function(e){var t=searchEventType(e);return{action:"Keyword search",label:"search",category:e.val().trim(),event:t}}},{target:".refinement-filter__input",eventListener:function(e){return e.is(":checked")?{action:"Refinement filter",category:e.closest(".refinement-filter__button").find("span").text().trim(),event:EVENTS.SearchPage,label:e.closest(".refinement-wrapper").find("h2").text().trim()}:null},onEvent:"change"},{target:".search-header .ais-SearchBox-input, .modal--search .ais-SearchBox-input",eventListener:function(e){var t=searchEventType(e),a=e.val().trim();return!a||a.length<3||a===globalSearchInput?null:(globalSearchInput=a,{action:"Keyword search",label:"keyup",event:t,category:a})},onEvent:"keyup"}];function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _iterableToArrayLimit(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(s)throw n}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(e){e.behaviors.gaAnalytics={attach:function(e){$("body",e).once("gaAnalytics").each((function(){var e=function(e,t){var a=t(e);a&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push(a))};analyticEvents.forEach((function(t){var a=t.eventListener,r=t.onEvent,n=void 0===r?"click":r,i=t.target;"keyup"===n||"change"===n?$("body").on(n,i,debounce((function(){e($(this),a)}),800)):$("body").on(n,i,(function(){e($(this),a)}))}))}))}}}(Drupal),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.HTMLCollection&&!HTMLCollection.prototype.forEach&&(HTMLCollection.prototype.forEach=Array.prototype.forEach),function(e,t){t.behaviors.dropdown={attach:function(){e("select").once("setupSelects").each((function(){var t,a=e(this),r=a.parents(".form-item").find("label").addClass("u-hide").text(),n=r?'<div class="current__label">'.concat(r,"</div>"):"",i=r?"current--has-label":"current--has-no-label",o=r?"item item--small":"item";r||(t=(t=a.attr("data-drupal-selector"))?t.replace("edit-field-article-","").replace("edit-field-","").replace("-target-id","").replace("-value","").replace(/-/g," "):"Select an option"),a.selectric({maxHeight:200,disableOnMobile:!1,nativeOnMobile:!0,arrowButtonMarkup:'<b class="button"></b>',labelBuilder:'<span class="current '.concat(i,'">\n            ').concat(n,'\n            <span class="current__selection">{text}</span>\n          </span>'),optionsItemBuilder:'<span class="'.concat(o,'">{text}</span>'),onInit:function(a){var n=e(a),i=n.closest(".selectric-wrapper"),o=i.find(".selectric-input"),s=i.find(".selectric-items");s.before(o),i.attr("role","combobox").attr("aria-expanded",!1).attr("aria-owns","".concat(n.attr("id"),"-listbox")).attr("aria-haspopup","listbox"),r?(i.attr("aria-label",r),o.attr("aria-label",r),n.attr("aria-label",r)):t&&(i.attr("aria-label",t),o.attr("aria-label",t),n.attr("aria-label",t)),o.attr("tabindex",0).attr("aria-controls","".concat(n.attr("id"),"-listbox")),s.find("ul").attr("role","listbox").attr("id","".concat(n.attr("id"),"-listbox")),s.find("li").attr("role","option").each((function(t,a){e(a).attr("id","".concat(n.attr("id"),"-option-").concat(t))}))},onOpen:function(t){e(t).closest(".selectric-wrapper").attr("aria-expanded",!0)},onClose:function(t){e(t).closest(".selectric-wrapper").attr("aria-expanded",!1)}}),a.on("selectric-highlight",(function(t,a,r){var n=r.state.highlightedIdx,i=e(a).closest(".selectric-wrapper"),o=i.find(".selectric-items li"),s=o.eq(n),c=i.find(".selectric-input");o.removeAttr("aria-selected"),c.attr("aria-activedescendant",s.attr("id")),s.attr("aria-selected",!0)}));var s=a.parents(".views-exposed-form");s.length&&(s.find(".js-form-submit").addClass("u-hide"),a.on("change",(function(){s.submit()})))}))}}}(jQuery,Drupal),function(e,t){var a="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";t.behaviors.menuMain={closeDropdowns:function(e){e.removeClass("is-visible"),e.find(a).attr("tabindex",-1),e.attr("aria-expanded",!1)},openDropdowns:function(e){e.addClass("is-visible"),e.find(a).filter(":visible").attr("tabindex",0),e.attr("aria-expanded",!0)},attach:function(){var t=this,a=e(".nav--main"),r=a.find(".menu__item--has-mega-nav"),n=a.find(".mega-nav");r.attr("aria-haspopup",!0),this.closeDropdowns(n),r.on("keypress",(function(e){32===e.which&&e.preventDefault()})),r.on("keyup",(function(a){var r=e(this).children("a"),i=e(this).find(".mega-nav");switch(a.which){case 32:t.closeDropdowns(n),t.openDropdowns(i);break;case 27:t.closeDropdowns(i),r.focus();break;default:return}}))}}}(jQuery,Drupal),function(e,t){t.behaviors.menuAccount={attach:function(){var t=this,a=e(".nav--gigya-account"),r=e(".menu--gigya-account");a.attr("tabindex",0),a.attr("aria-haspopup",!0),r.attr("tabindex",-1),r.attr("aria-expanded",!1),a.on("focus",(function(){r.addClass("is-visible"),r.attr("tabindex",0),r.attr("aria-expanded",!0)})),a.on("blur",(function(e){return t.handleClose(e,r)})),r.find("a").on("blur",(function(e){return t.handleClose(e,r)}))},handleClose:function(t,a){var r=t.relatedTarget?e(t.relatedTarget):e(document.activeElement);r.length&&r.closest(".menu--gigya-account").length||(a.removeClass("is-visible"),a.attr("tabindex",-1),a.attr("aria-expanded",!1))}}}(jQuery,Drupal),function(e,t){t.behaviors.articlestorygroup={attach:function(t){var a=e(".article-story-group",t);if(a.length){var r=function(e,t){1!==t&&(o.some((function(e){return e===t}))||(!function(e){var t=e.find(".node").attr("about"),a=ga.getAll()[0].get("name");ga(a+".send","pageview",t),ga(a+".send","event",{eventCategory:"story group",eventAction:"scrolled article",eventLabel:t})}(e),o.push(t)))},n=function(){i.each((function(t){var a=e(this);a.visible(!0)&&r(a,t+1)}))},i=e(".article-story-group__item",a),o=[];e.fn.visible=function(t){var a=e(this),r=e(window),n=r.scrollTop(),i=n+r.height(),o=a.offset().top,s=o+a.height();return(!0===t?o:s)<=i&&(!0===t?s:o)>=n},n(),e(window).scroll(_.debounce(n,100));var s=e(".article-story-group__header");s.length&&s.headroom({offset:s.offset().top+2*s.height(),classes:{initial:"article-story-group__header--headroom-ready",pinned:"article-story-group__header--pinned",unpinned:"article-story-group__header--unpinned",top:"article-story-group__header--top",notTop:"article-story-group__header--not-top",bottom:"article-story-group__header--bottom",notBottom:"article-story-group__header--not-bottom"}})}}}}(jQuery,Drupal),function(e,t){t.behaviors.siteheader={attach:function(){var t=e(".menu--main .menu__link.is-active").first().text();e(".header__section-name").text(t);var a=e("#header-trigger"),r=e(".header__menu-trigger");if(r.off("click"),r.on("click",(function(e){e.preventDefault(),a.prop("checked")?a.prop("checked",!1):a.prop("checked",!0)})),"undefined"!=typeof requestAnimationFrame){var n=e(".header");n.headroom({offset:n.height(),classes:{initial:"header--headroom-ready",pinned:"header--pinned",unpinned:"header--unpinned",top:"header--top",notTop:"header--not-top",bottom:"header--bottom",notBottom:"header--not-bottom"},onPin:function(){e("body").addClass("has-header--pinned")},onUnpin:function(){e("body").removeClass("has-header--pinned")},onTop:function(){}}),e(".header__top .sitewide-search__wrapper").length<1&&e(".sitewide-search__wrapper").clone().insertBefore(".header__cta-group .header__menu-trigger")}}}}(jQuery,Drupal),function(e,t,a){t.behaviors.lightbox={attach:function(){e(".js-twitter-card__media--link").magnificPopup({type:"image",image:{titleSrc:"title"}})}},t.behaviors.moveTwitterAd={attach:function(){var t=e(".twitter-card__grid .ad-mobile"),r=e(".view-tweets .ad-mobile").is(":last-child");function n(){e("body").outerWidth()<640?r&&t.insertAfter(".twitter-card:nth-child(3)"):e("body").outerWidth()>=640&&!r&&t.insertAfter(".twitter-card:last-child")}n(),e(window).resize(a.debounce((function(){r=e(".view-tweets .ad-mobile").is(":last-child"),n()}),200))}}}(jQuery,Drupal,_),function(e,t){e.behaviors.tabs={attach:function(e){if(!(e.querySelectorAll(".js-tabs").length<1)){var a="u-hide-keep-size",r=t(".js-tabs__panel");t(".js-tabs",e).once().each((function(){var e=t(this).find(".js-tabs__tab"),i=e.filter(".is-active"),o=n();function s(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0;if(0!==n.length){e.removeClass("is-active"),n.addClass("is-active");var s=n.attr("href"),c=t(s);r.removeClass("js-tabs__panel--open").addClass(a),c.removeClass(a).addClass("js-tabs__panel--open");var l=s.replace("#","#!"),d={rand:Math.random()};window.eqjs.query(t("[data-eq-pts]",c)),i&&history.pushState?o?history.replaceState(d,null,l):history.pushState(d,null,l):location.hash=l,bLazy.revalidate()}}window.addEventListener("popstate",(function(t){t.state&&n()&&s(e.filter("[href='".concat(n(),"']")),!1)})),window.addEventListener("hashchange",(function(t){n()&&s(e.filter("[href='".concat(n(),"']")),!1)})),window.addEventListener("load",(function(){if(r.addClass(a),o&&e.filter("[href='".concat(o,"']")).length)s(e.filter("[href='".concat(o,"']")));else if(i.length){s(i.first())}else s(e.first(),!0,!0)})),e.click((function(e){e.stopImmediatePropagation(),e.preventDefault(),s(t(this))})),t(document).on("activateTab",(function(e,t){s(t.$item)}))}))}function n(){return window.location.hash.replace("#!","#")}}}}(Drupal,jQuery),function(e,t){t.behaviors.accordions={attach:function(){function t(e,t,a){return'<span class="date__day">'.concat(e).concat(a,'</span><span class="date__year">').concat(t,"</span>")}e(".accordions").once("setupAccordions").each((function(){e(".accordion__divider").click((function(t){t.stopImmediatePropagation();var a,r=e(this).parents(".accordion");r.hasClass("accordion--open")?function(e){e.removeClass("accordion--open")}(r):(r.addClass("accordion--open"),a=r,window.eqjs.query(e("[data-eq-pts]",a)))}))})),e(".view-news-pages .accordion__title span, .view-fixture-news .accordion__title").each((function(){var a=e(this),r=_slicedToArray(a.text().split(","),2),n=r[0],i=r[1];a.addClass("date").html(t(n,i,","))})),e(".js-accordion-text").each((function(){var a=e(this),r=a.hasClass("js-accordion-text--long"),n=a.attr("data-content");if(r){var i=_slicedToArray(n.trim().split(" "),3),o=i[0],s=i[1],c=i[2],l="".concat(o," ").concat(s);a.html(t(l,c,", "))}else if("Postponed"===n)a.html('<span class="date__day">TBC</span>');else{var d=_slicedToArray(n.trim().split(" "),2),u=d[0],h=d[1];a.html(t(u,h," "))}a.addClass("date")}))}}}(jQuery,Drupal),function(e){e.behaviors.fixtureList={attach:function(e){var t=e.querySelector(".js-download-fixtures");if(t){var a=window.location.search.substr(1).split("&"),r=t.getAttribute("href");t.setAttribute("href","".concat(r,"?").concat(a[0]))}}}}(Drupal),function(e,t){t.behaviors.table={attach:function(){e("table").each((function(){var t=e(this),a=[];e(".header-groups > th, .header-groups > td",t).each((function(t){var r=e(this),n={col:parseInt(r.attr("colspan"),10),name:r.text().toLowerCase()||"untitled"};r.addClass("group--".concat(t+1," group--").concat(n.name)),a.push(n)}));var r=0,n=a.map((function(e){var t={start:r,end:e.col+r,name:e.name};return r=t.end,t}));e("tbody > tr, thead > tr:last-child",t).each((function(){var t=e(this);n.forEach((function(a,r){e("td, th",t).slice(a.start,a.end).addClass("group--".concat(r+1," group--").concat(a.name))}))}))}))}}}(jQuery,Drupal),function(e,t){t.behaviors.infiniteScrollRunEq={attach:function(e,t){window.eqjs.all()}}}(jQuery,Drupal),function(e,t){t.behaviors.searchbar={attach:function(){e(".search-bar .js-form-submit").attr("tabindex",-1),e(".search-bar .form-text").attr("tabindex",-1),e(".search-bar__trigger").click((function(t){t.stopImmediatePropagation();var a=e(this).siblings(".search-bar").find(".form-text");if(a.hasClass("is-visible"))return a.removeClass("is-visible"),void a.attr("tabindex",-1);a.addClass("is-visible"),a.attr("tabindex",0)})),e(".search-bar__trigger").on("keyup",(function(t){13===t.which&&e(this).click()})),e("#search-bar__checkbox").change((function(){e(".search-bar .form-text.is-visible").focus()})),e(".search-bar__submit").click((function(){e(this).siblings("form").find(".js-form-submit").click()})),e(".search-bar").each((function(t,a){var r=e(a).find('label[for="edit-search"]'),n=e(a).find("input#edit-search");r.attr("for","edit-search-".concat(t)),n.attr("id","edit-search-".concat(t))})),e('label[for="search-bar__checkbox"]').eq(0).attr("id","search-bar-checkbox-label"),e("#search-bar__checkbox").attr("aria-labelledby","search-bar-checkbox-label")}}}(jQuery,Drupal),function(e,t){t.behaviors.fixturecards={attach:function(){e(".fixture-card").each((function(){var t=e(this),a=e(".fixture-card__cta",t);a.length&&(t.addClass("fixture-card--is-link"),t.click((function(e){"A"!==e.target.nodeName&&(a&&a[0]&&a[0].href?a[0].host===window.location.host?window.location=a[0].href:window.open(a[0].href):console.error("Was not able to get fixture card cta link to open."))})))}))}}}(jQuery,Drupal),function(e,t,a){t.behaviors.imagecarouselcard={attach:function(){var t=e(".media-card--carousel .card__content:not(.slick-initialized)"),a=t.closest(".js-gallery-carousel-wrapper"),r=!1,n=5e3;function i(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;t.slick({lazyLoad:"ondemand",slidesToShow:1,zIndex:40,adaptiveHeight:!0,arrows:!0,prevArrow:'<div class="media-card__arrow media-card__arrow--prev" title="Previous"></div>',nextArrow:'<div class="media-card__arrow media-card__arrow--next" title="Next"></div>',autoplay:a,autoplaySpeed:r}),e(".media-card--carousel").each((function(){e(this).magnificPopup({delegate:".slick-slide:not(.slick-cloned) a.js-media-card__lightbox",type:"image",gallery:{enabled:!0},image:{titleSrc:"title"},disableOn:function(){return!(e(window).width()<640)}})}))}a.length>0?a.each((function(){r=!!this.dataset.jsAutoplay||r,n=this.dataset.jsAutoplaySpeed?this.dataset.jsAutoplaySpeed:n,i(e(this).find(t),r,n)})):i(t)}}}(jQuery,Drupal,_),function(e){e.behaviors.animatedMedia={attach:function(e){var t=function(e,t,a){t.dataset.src=a,e.classList.contains("b-loaded")&&e.classList.remove("b-loaded"),bLazy.revalidate()};function a(){var a=e.querySelectorAll("video.animated");a&&function(e,t,a){for(var r=0;r<e.length;r++)t.call(a,r,e[r])}(a,(function(e,a){var r=a.querySelector("source");window.innerWidth>=769&&"l"!==a.dataset.playingVid&&(a.dataset.playingVid="l",t(a,r,r.dataset.large)),window.innerWidth<=768&&"s"!==a.dataset.playingVid&&(a.dataset.playingVid="s",t(a,r,r.dataset.small))}))}window.addEventListener("load",a),window.addEventListener("resize",a)}}}(Drupal),function(e,t,a){t.behaviors.articlecard={attach:function(){var t=e(".article-card__title-words, .takeover__article-title-words");function r(){var t,a=0,r=e(this);r.hasClass("js-processed")&&r.children().removeAttr("class"),r.addClass("js-processed"),r.children().each((function(){var r=e(this),n=r.position().top;t!==n&&(a+=1,r.prev().prev().addClass("last")),r.addClass("row-".concat(a)),t=n}))}function n(e){e.each(r)}function i(t){t.length&&(e("body").outerWidth()<768?t.addClass("article-card--tiny"):t.removeClass("article-card--tiny"))}setTimeout((function(){n(t)}),1e3),t.each((function(){e(this).parents(".article-card, .takeover").on("unhidden",r.bind(this))}));var o=e([".article-card--mobile-tiny",".view-related-content .article-card",".group-grid__item--width-one .article-card"].join(","));i(o),e(window).resize(a.debounce((function(){n(t),i(o)}),200))}}}(jQuery,Drupal,_),function(e,t){t.behaviors.featuredarticle={attach:function(){var t=e(".featured-article"),a=".featured-article__sub-content";t.find(a).hide(),t.hover((function(){e(this).find(a).slideDown()}),(function(){e(this).find(a).slideUp()}))}}}(jQuery,Drupal),function(e,t){t.behaviors.storygroup={attach:function(){e(".story-group").once("setup-story-groups").each((function(){var t=e(this),a=e(".group-grid__item",t),r=e(".section-header__icon",t),n=e(".story-group__hr-link",t),i=a.filter(".group-grid__item--row-three-plus"),o=a.slice(3);function s(a){var r=e("body").outerWidth()<1024?o:i;a.preventDefault(),t.hasClass("story-group--closed")?(r.slideDown({duration:400,start:function(){var t;t=r,window.eqjs.query(e("[data-eq-pts]",t)),r.children().trigger("unhidden")},done:function(){bLazy.revalidate()}}),r.find("a").first().focus()):r.slideUp(400),t.toggleClass("story-group--closed"),n.toggleClass("hr-link--flipped")}t.addClass("story-group--closed"),n.addClass("hr-link--flipped"),e(".hr-link__noun",n).text(e(".section-header__title",t).text()),n.click(s),r.click(s)}))}}}(jQuery,Drupal),function(e,t){t.behaviors.meganav={attach:function(){e(".mega-navs .mega-nav").each((function(t){var a=e(this).children(),r=a.children();a.addClass("mega-nav__inner--has-".concat(r.length)),r.hasClass("mega-nav__item")||r.wrap('<div class="mega-nav__item"></div>'),e(".menu--main .menu__item[data-use-meganav-id='"+e(this).data("region-id")+"']").append(e(this))})),e(".menu--main").addClass("menu--has-mega-nav");var t=document.querySelectorAll(".menu--main [data-eq-pts]");e(".menu--main .menu__item").hover((function(){return window.eqjs.query(t)}))}}}(jQuery,Drupal),function(e,t){t.behaviors.heroBlock={attach:function(){if(e(".hero-block__play").length>0){var t=e(".hero-block__play"),a=e(".hero-block__video"),r=e(".hero-block__image"),n=e(".hero-block__content");t.on("click",(function(){!function(e,t,a,r){e.addClass("visually-hidden"),t.removeClass("visually-hidden"),a.css({"background-image":"none"}),r.addClass("visually-hidden");var n=t.children("div:first");window.addVideo(n)}(t,a,r,n)}))}}}}(jQuery,Drupal),function(e,t){t.behaviors.injury={attach:function(t){var a=e("html, body");e('a[href^="#injury"]',t).click((function(t){var r=e(e.attr(this,"href"));r.length&&(a.animate({scrollTop:r.offset().top-65},500),t.preventDefault(),r.focus())}))}}}(jQuery,Drupal),function(e,t){t.behaviors.sectiontab={attach:function(t){if(e(".js-move-to-section-tabs",t).prependTo(".section-tab__tabs").removeClass("js-move-to-section-tabs").attr("data-dev-note","moved via .js-move-to-section-tabs"),t===document){var a=t.querySelector(".section-tab__tabs .menu__link.is-active");a&&a.scrollIntoView({behavior:"smooth",block:"nearest"})}}}}(jQuery,Drupal),function(e,t){t.behaviors.moveHomeSidebar={attach:function(){var t=e(".page-node-type-home-page").length>0,a=e(".site__page"),r=e(".page__sidebar"),n=r.children(".ad-tablet:first"),i=r.children(".ad-mobile:first"),o=!1,s=e(".slices-group .page__sidebar").length>0;function c(){e("body").outerWidth()<1023&&!s?(o?r.insertAfter(".slices-group > div:nth-of-type(1)"):(r.insertAfter(".slices-group > div:nth-of-type(2)"),n.insertAfter(".slices-group > div:nth-of-type(1)"),i.insertAfter(".slices-group > div:nth-of-type(1)")),s=!0):e("body").outerWidth()>=1023&&s&&(r.appendTo(a),s=!1)}(e(".takeover").length>0||e(".hero-article").length>0)&&(o=!0),t&&(c(),e(window).resize(_.debounce((function(){c()}),200)))}}}(jQuery,Drupal);;
/*!
* tabbable 5.3.2
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e.tabbable,o=e.tabbable={};t(o),o.noConflict=function(){return e.tabbable=n,o}}())}(this,(function(e){"use strict";var t=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],n=t.join(","),o="undefined"==typeof Element,r=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,i=!o&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},a=function(e,t,o){var i=Array.prototype.slice.apply(e.querySelectorAll(n));return t&&r.call(e,n)&&i.unshift(e),i=i.filter(o)},l=function e(t,o,i){for(var a=[],l=Array.from(t);l.length;){var u=l.shift();if("SLOT"===u.tagName){var c=u.assignedElements(),d=e(c.length?c:u.children,!0,i);i.flatten?a.push.apply(a,d):a.push({scope:u,candidates:d})}else{r.call(u,n)&&i.filter(u)&&(o||!t.includes(u))&&a.push(u);var f=u.shadowRoot||"function"==typeof i.getShadowRoot&&i.getShadowRoot(u);if(f){var s=e(!0===f?u.children:f.children,!0,i);i.flatten?a.push.apply(a,s):a.push({scope:u,candidates:s})}else l.unshift.apply(l,u.children)}}return a},u=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},c=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},d=function(e){return"INPUT"===e.tagName},f=function(e){return function(e){return d(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||i(e),o=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=o(window.CSS.escape(e.name));else try{t=o(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var r=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!r||r===e}(e)},s=function(e){var t=e.getBoundingClientRect(),n=t.width,o=t.height;return 0===n&&0===o},p=function(e,t){return!(t.disabled||function(e){return d(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,o=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var a=r.call(e,"details>summary:first-of-type")?e.parentElement:e;if(r.call(a,"details:not([open]) *"))return!0;var l=i(e).host,u=(null==l?void 0:l.ownerDocument.contains(l))||e.ownerDocument.contains(e);if(n&&"full"!==n){if("non-zero-area"===n)return s(e)}else{if("function"==typeof o){for(var c=e;e;){var d=e.parentElement,f=i(e);if(d&&!d.shadowRoot&&!0===o(d))return s(e);e=e.assignedSlot?e.assignedSlot:d||f===e.ownerDocument?d:f.host}e=c}if(u)return!e.getClientRects().length}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var o=t.children.item(n);if("LEGEND"===o.tagName)return!!r.call(t,"fieldset[disabled] *")||!o.contains(e)}return!0}t=t.parentElement}return!1}(t))},h=function(e,t){return!(f(t)||u(t)<0||!p(e,t))},m=t.concat("iframe").join(",");e.focusable=function(e,t){return(t=t||{}).getShadowRoot?l([e],t.includeContainer,{filter:p.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a(e,t.includeContainer,p.bind(null,t))},e.isFocusable=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==r.call(e,m)&&p(t,e)},e.isTabbable=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==r.call(e,n)&&h(t,e)},e.tabbable=function(e,t){return function e(t){var n=[],o=[];return t.forEach((function(t,r){var i=!!t.scope,a=i?t.scope:t,l=u(a,i),c=i?e(t.candidates):a;0===l?i?n.push.apply(n,c):n.push(a):o.push({documentOrder:r,tabIndex:l,item:t,isScope:i,content:c})})),o.sort(c).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)}((t=t||{}).getShadowRoot?l([e],t.includeContainer,{filter:h.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot}):a(e,t.includeContainer,h.bind(null,t)))},Object.defineProperty(e,"__esModule",{value:!0})}));

;
